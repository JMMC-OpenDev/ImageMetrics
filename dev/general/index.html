<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>General image metrics · Image Metrics</title><meta name="title" content="General image metrics · Image Metrics"/><meta property="og:title" content="General image metrics · Image Metrics"/><meta property="twitter:title" content="General image metrics · Image Metrics"/><meta name="description" content="Documentation for Image Metrics."/><meta property="og:description" content="Documentation for Image Metrics."/><meta property="twitter:description" content="Documentation for Image Metrics."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Image Metrics</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Image metrics</a></li><li class="is-active"><a class="tocitem" href>General image metrics</a></li><li><a class="tocitem" href="../bc2016/">The 2016&#39; Interferometric Beauty Contest</a></li><li><a class="tocitem" href="../ic2024/">The 2024&#39; Interferometric Imaging Contest</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>General image metrics</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>General image metrics</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JMMC-OpenDev/ImageMetrics" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JMMC-OpenDev/ImageMetrics/blob/main/docs/src/general.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="General-image-metrics"><a class="docs-heading-anchor" href="#General-image-metrics">General image metrics</a><a id="General-image-metrics-1"></a><a class="docs-heading-anchor-permalink" href="#General-image-metrics" title="Permalink"></a></h1><p>A general discussion about measuring discrepancy between images with a specific focus on optical interferometry is developed in<sup class="footnote-reference"><a id="citeref-Gomes2016" href="#footnote-Gomes2016">[Gomes2016]</a></sup>. A proper image metric shall provide a quantitative score suitable to order restored images. This score must reflect the perception by an expert of the fidelity of the images with a given ground truth or reference image. The score shall be insensitive to changes that may be considered as irrelevant for the considered context. For example, image quality indices widely used in the signal processing community are insensitive to an affine transform of the pixel values. For optical interferometry, the pixel size and the field of view of a restored image are, to some extend, free parameters and may thus be different from the pixel size of the ground truth image. Moreover, when only power spectrum and phase closure data (<code>vis2data</code> and <code>t3phi</code> in <code>OI_VIS2</code> and <code>OI_T3</code> data-blocks of OI-FITS files) are used to reconstruct an image, the position of the object in the field of view is not constrained by the data and the image metric should not depend on this position.</p><p>Accounting for all these remarks, a possible definition of the distance between <span>$\Vy$</span>, a reference image, and <span>$\Vx$</span>, a reconstructed image, is given by:</p><p class="math-container">\[\begin{align}
\Dist(\Vx,\Vy) = \min_{α,β,\Vt} \Bigl\{
  &amp;\sum_{i \in |\MR_{\boldsymbol{θ}}\cdot\Vx| \cap |\Vy|}
  d\!\left(α\,(\MR_{\boldsymbol{θ}}\cdot\Vx)_i + β, y_i\right)
  \notag\\
  &amp;+ \sum_{i \in |\MR_{\boldsymbol{θ}}\cdot\Vx| \backslash
  (|\MR_{\boldsymbol{θ}}\cdot\Vx| \cap |\Vy|)}
  d\!\left(α\,(\MR_{\boldsymbol{θ}}\cdot\Vx)_i + β, v_{\mathrm{out}}\right)
  \notag\\
  &amp;+ \sum_{i \in |\Vy| \backslash
  (|\MR_{\boldsymbol{θ}}\cdot\Vx| \cap |\Vy|)}
  d\!\left(v_{\mathrm{out}},y_i\right)
\Bigr\}
\end{align}\]</p><p>where <span>$d(x,y)$</span> is some pixel-wise distance, <span>$\MR_{\boldsymbol{θ}}$</span> is a linear operator which implements resampling with a given magnification, translation, and blurring, and <span>$v_{\mathrm{out}}$</span> is the assumed out-of-field pixel value. <span>$\boldsymbol{θ}$</span> accounts for all parameters defining the operator <span>$\MR_{\boldsymbol{θ}}$</span>, in particular the translation <span>$\Vt$</span>, and <span>$|\Vy|$</span> denotes the list of pixels of the image <span>$\Vy$</span>. Here <span>$\alpha \in \mathbb{R}$</span>, <span>$\beta \in \mathbb{R}$</span>, and the translation <span>$\Vt \in \mathbb{R}^2$</span> are nuisance parameters to reduce the mismatch between the images.</p><p>The score may be defined by normalizing the distance:</p><p class="math-container">\[\Score(\Vx)
= \frac{\Dist(\Vx,\Vy)}{\Dist(v_{\mathrm{out}}\,\One,\Vy)}\]</p><p>where <span>$\One$</span> is an image of the same size as <span>$\Vy$</span> but filled with ones, hence <span>$v_{\mathrm{out}}\,\One$</span> is an image of the same size as <span>$\Vy$</span> but filled with <span>$v_{\mathrm{out}}$</span> the assumed out-of-field pixel value.</p><p>The following properties are assumed for the pixel-wise distance:</p><ol><li><span>$d(x,x) = 0$</span> for any <span>$x \in \mathbb{R}$</span>;</li><li><span>$d(x,y) &gt; 0$</span> for any <span>$(x,y) \in \mathbb{R}^2$</span> such that <span>$x \not= y$</span>;</li><li><span>$d(y,x) = d(y,x)$</span> for any <span>$(x,y) \in \mathbb{R}^2$</span>.</li></ol><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-Gomes2016"><a class="tag is-link" href="#citeref-Gomes2016">Gomes2016</a><blockquote><p>N. Gomes, P. J. V. Garcia &amp; É. Thiébaut, <em>Assessing the quality of restored images in optical long-baseline interferometry</em> in Monthly Notices of the Royal Astronomical Society, vol. <strong>465</strong>, pp. 3823-3839 (2016).</p></blockquote></li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Image metrics</a><a class="docs-footer-nextpage" href="../bc2016/">The 2016&#39; Interferometric Beauty Contest »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Monday 10 June 2024 11:34">Monday 10 June 2024</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
