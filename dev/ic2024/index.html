<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>The 2024&#39; Interferometric Imaging Contest · Image Metrics</title><meta name="title" content="The 2024&#39; Interferometric Imaging Contest · Image Metrics"/><meta property="og:title" content="The 2024&#39; Interferometric Imaging Contest · Image Metrics"/><meta property="twitter:title" content="The 2024&#39; Interferometric Imaging Contest · Image Metrics"/><meta name="description" content="Documentation for Image Metrics."/><meta property="og:description" content="Documentation for Image Metrics."/><meta property="twitter:description" content="Documentation for Image Metrics."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Image Metrics</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Image metrics</a></li><li><a class="tocitem" href="../general/">General image metrics</a></li><li><a class="tocitem" href="../bc2016/">The 2016&#39; Interferometric Beauty Contest</a></li><li class="is-active"><a class="tocitem" href>The 2024&#39; Interferometric Imaging Contest</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>The 2024&#39; Interferometric Imaging Contest</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>The 2024&#39; Interferometric Imaging Contest</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JMMC-OpenDev/ImageMetrics" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JMMC-OpenDev/ImageMetrics/blob/main/docs/src/ic2024.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="The-2024&#39;-Interferometric-Imaging-Contest"><a class="docs-heading-anchor" href="#The-2024&#39;-Interferometric-Imaging-Contest">The 2024&#39; Interferometric Imaging Contest</a><a id="The-2024&#39;-Interferometric-Imaging-Contest-1"></a><a class="docs-heading-anchor-permalink" href="#The-2024&#39;-Interferometric-Imaging-Contest" title="Permalink"></a></h1><p>For the <em>2024&#39; Interferometric Imaging Contest</em> held in Japan, the objective of the contest was to reconstruct multi-wavelength images. A metric was thus specifically designed to compare multi-channel images so as to be insensitive to irrelevant differences due to:</p><ul><li><strong>orientation</strong>: image axes may be inverted, notably the E-W axis;</li><li><strong>translation</strong>: there may be an arbitrary shift between images, the shift is the same in all spectral channels;</li><li><strong>pixel size</strong>: the size of the pixels used for the restored image is arbitrary even though it should be sufficiently small to account for the highest measured frequencies;</li><li><strong>brightness</strong>: not all entries are normalized according to the channel-wise flux given in <code>OI_FLUX</code> data-block;</li><li><strong>out-of-field values</strong>: after all geometric transformations, the fields of view of the reference and reconstructed images may be different, it is assumed that missing pixel values are equal to zero. The same rationale leads to impose that <span>$β = 0$</span> in the general rules.</li></ul><p>In addition, the comparison must take into account that the measurements have limited angular resolution. Thus the reference image <span>$\Vy$</span> is the ground truth image <span>$\Vz$</span> convolved with an effective <em>Point Spread Function</em> (PSF) whose <em>Full Width at Half Maximum</em> (FWHM) chosen to match the interferometric resolution. In the comparison, the restored images are also convolved with a PSF whose FWHM is tuned to best match the reference image <span>$\Vy$</span>.</p><p>Let <span>$\MR(\rho,\Vt,\omega)$</span> be the linear operator used to resample an image with a given magnification <span>$\rho$</span>, translation <span>$\Vt$</span>, and blur parameter <span>$\omega$</span>. The magnification <span>$\rho$</span> is the ratio of the output image pixel size over the input image pixel size. The translation <span>$\Vt$</span> may be specified for the input or output pixel grids (as is the most convenient). The blur parameter <span>$\omega$</span> can be specified as the FWHM of the PSF introduced to control the effective resolution of the output image.</p><p>Using the resampling operator, the <strong>reference image</strong> is:</p><p class="math-container">\[\Vy = \MR(\rho_{\mathrm{ref}},\boldsymbol{0},\omega_{\mathrm{ref}}) \cdot \Vz,\]</p><p>where <span>$\Vz$</span> is the ground truth image. Note that there is no translation between the ground truth image <span>$\Vz$</span> and the reference image <span>$\Vy$</span>.</p><p><span>$\delta_{\mathrm{ref}} = 3\,\mathrm{mas}/\mathrm{pixel}$</span> is the pixel size of the image <span>$z$</span> and <span>$\omega_{\mathrm{ref}} \sim \lambda_{\mathrm{min}}/(2\,B_{\mathrm{max}})$</span> is the FWHM of the objective resolution.</p><p>The score for a given image <span>$x$</span> is the sum of the squared differences between the <span>$\Gamma$</span>-corrected images:</p><p class="math-container">\[\Score_{\Gamma,p}(\Vx) = \frac{
  \sum\limits_{\lambda} \min\limits_{\alpha_\lambda,\Vt_\lambda,\omega_\lambda}
  \sum\limits_{j} \left(
      \Gamma\bigl(
        \alpha_\lambda\,
        [\MR(\rho,\Vt_\lambda,\omega_\lambda)\cdot\Vx_\lambda]_{j}
      \bigr)
      - \Gamma\bigl([\Vy_{\lambda}]_j\bigr)
     \right)^p
  }{
    \sum\limits_{\lambda,j} \Gamma\bigl([\Vy_{\lambda}]_j\bigr)^p
  }\]</p><p>where <span>$\Vx_{\lambda}$</span> is the restored image in the spectral channel indexed by <span>$\lambda$</span>, <span>$j$</span> is the pixel index and <span>$\Gamma: \Reals\to\Reals$</span> is a brightness correction function to emphasizes the interesting parts of the images. We have chosen:</p><p class="math-container">\[\gdef\Sign{\mathrm{sign}} % trick
\Gamma(x) = \Sign(x)\,|x|^\gamma \, ,\]</p><p>where <span>$\Sign(x)$</span> is the sign of <span>$x$</span>:</p><p class="math-container">\[\Sign(x) = \begin{cases}
-1 &amp; \text{if $x &lt; 0$}\\
+1 &amp; \text{if $x &gt; 0$}\\
\phantom{+}0 &amp; \text{if $x = 0$}\\
\end{cases}\]</p><p>The sign function is introduced for generality even though restored images are usually nonnegative. The denominator is to normalize the score: 0 is the best possible value and 1 is the score for a black image. The lower the score the better.</p><p>Because <span>$\Gamma(\alpha\,x) = \Gamma(\alpha)\,\Gamma(x)$</span> (whatever <span>$x$</span> and <span>$\alpha$</span>), minimizing with respect to <span>$\alpha_\lambda$</span> when <span>$p = 2$</span> has a closed form solution and the score simplifies to:</p><p class="math-container">\[\Score_{\Gamma,2}(x) = 1 - \frac{
    \sum\limits_{\lambda} \max\limits_{\Vt_\lambda,\omega_\lambda}
    c_\lambda(\Vt_\lambda,\omega_\lambda)
  }{
    \sum\limits_{\lambda,j} \Gamma\bigl([\Vy_{\lambda}]_j\bigr)^2
  } ,\]</p><p>with:</p><p class="math-container">\[  c_\lambda(\Vt,\omega) = \frac{
    \Bigl[
      \sum_{j}
      \Gamma\bigl([\Vy_{\lambda}]_j\bigr)\,
      \Gamma\bigl([\MR(\rho,\Vt,\omega)\cdot\Vx_\lambda]_{j}\bigr)
    \Bigr]
  }{
    \sum_{j}
    \Gamma\bigl([\MR(\rho,t,\omega)\cdot\Vx_\lambda]_{j}\bigr)^2
  } \, ,\]</p><p>which is a normalized correlation between the <span>$\Gamma$</span>-corrected images.</p><p>To compensate for different pixel sizes, the image <span>$\Vx$</span> or <span>$\Vy$</span> which has the larger pixel size is interpolated so that both images have the same (smallest) pixel size.</p><p>Separable linear interpolation with a triangle kernel is applied for magnifying and fine shifting the images.</p><p>The criterion is minimized for a translation between each images (for each spectral channel).</p><p>In every spectral channel, the brightness of the restored images is scaled so that the total flux per channel is the same as in the reference image.</p><p>Because the resolution of the reference image may change (see above) the score is the ratio between the sum for all spectral channels of the scores between the restored images and the reference images divided by the sum for all spectral channels of the scores between a zero image and the reference images.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../bc2016/">« The 2016&#39; Interferometric Beauty Contest</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Monday 10 June 2024 07:48">Monday 10 June 2024</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
