var documenterSearchIndex = {"docs":
[{"location":"ic2024/#The-2024'-Interferometric-Imaging-Contest","page":"The 2024' Interferometric Imaging Contest","title":"The 2024' Interferometric Imaging Contest","text":"","category":"section"},{"location":"ic2024/","page":"The 2024' Interferometric Imaging Contest","title":"The 2024' Interferometric Imaging Contest","text":"For the 2024' Interferometric Imaging Contest held in Japan, the objective of the contest is to reconstruct multi-wavelength images. Following the 2016' Interferometric Imaging Beauty Contest[Sanchez2016], the metric is the sum of scores in the different spectral channels and such that it is insensitive to irrelevant differences due to:","category":"page"},{"location":"ic2024/","page":"The 2024' Interferometric Imaging Contest","title":"The 2024' Interferometric Imaging Contest","text":"orientation: image axes may be inverted, notably the E-W axis;\ntranslation: there may be an arbitrary shift between images, the shift Vt is however the same in all spectral channels because this is expected for scientific analysis of the images;\nbrightness: not all entries are normalized according to the channel-wise flux given in OI_FLUX data-block so a correction factor α_λ  0 is allowed for the restored image in each spectral channel;\nout-of-field values: after all geometric transformations, the fields of view of the reference and reconstructed images may be different, it is assumed that missing pixel values are equal to zero: β = η = 0;\nangular resolution: the expected angular resolution is set by the resolution limit of the interferometer with some amount of super-resolution.","category":"page"},{"location":"ic2024/","page":"The 2024' Interferometric Imaging Contest","title":"The 2024' Interferometric Imaging Contest","text":"The image distance is computed for reference and restored images convolved with a an effective Point Spread Function (PSF) whose Full Width at Half Maximum (FWHM) is given by:","category":"page"},{"location":"ic2024/","page":"The 2024' Interferometric Imaging Contest","title":"The 2024' Interferometric Imaging Contest","text":"omega_λ = fracλζB_mathrmmax","category":"page"},{"location":"ic2024/","page":"The 2024' Interferometric Imaging Contest","title":"The 2024' Interferometric Imaging Contest","text":"with ζ  2 the level of super resolution and B_mathrmmax the maximal baseline. Following Gomes et al.[Gomes2016], the distance is given by the sum of the absolute value of the pixel-wise difference with no brightness correction, i.e. p = 1 and Gamma(x) = x. The score for a multi-spectral restored image Vx is thus given by:","category":"page"},{"location":"ic2024/","page":"The 2024' Interferometric Imaging Contest","title":"The 2024' Interferometric Imaging Contest","text":"Score(Vx) = maxlimits_Vtsum_λleft(\n    1 - frac\n      minlimits_α_λsum_j in Ω_λ\n      biglα_λMR_Vtheta_λcdotVx_λ_j - Vy_λ_jbigr\n    \n      sum_j in Ω_λ biglVy_λ_jbigr\n    \n  right)","category":"page"},{"location":"ic2024/","page":"The 2024' Interferometric Imaging Contest","title":"The 2024' Interferometric Imaging Contest","text":"with","category":"page"},{"location":"ic2024/","page":"The 2024' Interferometric Imaging Contest","title":"The 2024' Interferometric Imaging Contest","text":"Vtheta_λ = rho_λVtomega_λ","category":"page"},{"location":"ic2024/","page":"The 2024' Interferometric Imaging Contest","title":"The 2024' Interferometric Imaging Contest","text":"the settings for resampling the restored image in spectral channel λ. The magnification rho_λ is computed as the ratio of the known pixel sizes of Vx_λ and Vy_λ and, usually, does not depend on λ.","category":"page"},{"location":"ic2024/","page":"The 2024' Interferometric Imaging Contest","title":"The 2024' Interferometric Imaging Contest","text":"Since there is no closed-form expression of the best scaling factors α_λ, for each translation Vt, the score is numerically optimized in the chromatic scaling factors. Since this optimization is separable in the spectral channels, we used Brent's fmin algorithm to find the scaling factors.","category":"page"},{"location":"ic2024/","page":"The 2024' Interferometric Imaging Contest","title":"The 2024' Interferometric Imaging Contest","text":"To find the best shift Vt, the score is computed of a coarse grid of offsets and then continuously maximized starting from the best coarse offset.","category":"page"},{"location":"ic2024/","page":"The 2024' Interferometric Imaging Contest","title":"The 2024' Interferometric Imaging Contest","text":"[Sanchez2016]: J. Sanchez-Bermudez, É. Thiébaut, K.-H. Hofmann, M. Heininger, D. Schertl, G. Weigelt, F. Millour, A. Schutz, A. Ferrari, M. Vannier, D. Mary, J. Young & F. Malbet, F., The 2016 interferometric imaging beauty contest in Optical and Infrared Interferometry and Imaging V, SPIE International Conference, 9907, 99071D (2016) doi.","category":"page"},{"location":"ic2024/","page":"The 2024' Interferometric Imaging Contest","title":"The 2024' Interferometric Imaging Contest","text":"[Gomes2016]: N. Gomes, P. J. V. Garcia & É. Thiébaut, Assessing the quality of restored images in optical long-baseline interferometry in Monthly Notices of the Royal Astronomical Society, vol. 465, pp. 3823-3839 (2016).","category":"page"},{"location":"general/#General-image-metrics","page":"General image metrics","title":"General image metrics","text":"","category":"section"},{"location":"general/","page":"General image metrics","title":"General image metrics","text":"A general discussion about measuring discrepancy between images with a specific focus on optical interferometry is developed in[Gomes2016]. A proper image metric shall provide a quantitative score suitable to order restored images. This score must reflect the perception by an expert of the fidelity of the images with a given ground truth or reference image. The score shall be insensitive to changes that may be considered as irrelevant for the considered context. For example, image quality indices widely used in the signal processing community are insensitive to an affine transform of the pixel values. For optical interferometry, the pixel size and the field of view of a restored image are, to some extend, free parameters and may thus be different from the pixel size of the ground truth image. Moreover, when only power spectrum and phase closure data (vis2data and t3phi in OI_VIS2 and OI_T3 data-blocks of OI-FITS files) are used to reconstruct an image, the position of the object in the field of view is not constrained by the data and the image metric should not depend on this position.","category":"page"},{"location":"general/","page":"General image metrics","title":"General image metrics","text":"Accounting for all these remarks, a possible definition of the distance between Vy, a reference image, and Vx, a reconstructed image, is given by:","category":"page"},{"location":"general/","page":"General image metrics","title":"General image metrics","text":"beginalign*\nDist(VxVy) = min_Params Bigl\n  sum_j in MR_VthetacdotVx cap Vy\n  dleft(α(MR_VthetacdotVx)_j + β y_jright)\n  notag\n  + sum_j in MR_VthetacdotVx backslash\n  (MR_VthetacdotVx cap Vy)\n  dleft(α(MR_VthetacdotVx)_j + β etaright)\n  notag\n  + sum_j in Vy backslash\n  (MR_VthetacdotVx cap Vy)\n  dleft(etay_jright)\nBigr\nendalign*","category":"page"},{"location":"general/","page":"General image metrics","title":"General image metrics","text":"where d(xy) is some pixel-wise distance, MR_Vtheta is a linear operator which implements resampling with a given magnification, translation, and blurring, and eta is the assumed out-of-field pixel value. Vy denotes the list of pixels of the image Vy and Vtheta = rhoVtomega accounts for all parameters defining the operator MR_Vtheta: the magnification rho, the translation Vt, and the blur width omega.","category":"page"},{"location":"general/","page":"General image metrics","title":"General image metrics","text":"The distance is minimized in the set Params of parameters which are irrelevant for judging of the image quality. These parameters depend on the context. For image reconstruction from interferometric data, beta = 0 and eta = 0 are natural settings while alpha in mathbbR and the translation Vt in mathbbR^2 must be adjusted to reduce the mismatch between the images. Hence, Params = alphaVt in this context.","category":"page"},{"location":"general/","page":"General image metrics","title":"General image metrics","text":"A score may be defined by normalizing the distance and such that the higher the score, the better the restored image Vx:","category":"page"},{"location":"general/","page":"General image metrics","title":"General image metrics","text":"Score(Vx) = 1 - fracDist(VxVy)Dist(etaOneVy)","category":"page"},{"location":"general/","page":"General image metrics","title":"General image metrics","text":"where One is an image of the same size as Vy but filled with ones, hence etaOne is an image of the same size as Vy but filled with eta, the assumed out-of-field pixel value. The score may be negative but the maximal score is 1.","category":"page"},{"location":"general/","page":"General image metrics","title":"General image metrics","text":"Denoting by mathbbK the set of possible pixel values, the following properties must hold for the pixel-wise distance:","category":"page"},{"location":"general/","page":"General image metrics","title":"General image metrics","text":"d(xx) = 0 for any x in mathbbK;\nd(xy)  0 for any (xy) in mathbbK^2 such that x not= y;\nd(yx) = d(yx) for any (xy) in mathbbK^2.","category":"page"},{"location":"general/","page":"General image metrics","title":"General image metrics","text":"To remain general, a possible pixel-wise distance for which the above properties hold is given by:","category":"page"},{"location":"general/","page":"General image metrics","title":"General image metrics","text":"d(x y) = leftGamma(x) - Gamma(y)right^p","category":"page"},{"location":"general/","page":"General image metrics","title":"General image metrics","text":"where the exponent p and the function Gamma mathbbKtomathbbR are introduced to make the distance more flexible. Gamma is a brightness correction monotonic function to emphasize the interesting parts of the images amd p  0 to have a non-decreasing distance with respect to the absolute value of the difference Gamma(x) - Gamma(y). For example:","category":"page"},{"location":"general/","page":"General image metrics","title":"General image metrics","text":"Gamma(x) = Sign(x)x^gamma","category":"page"},{"location":"general/","page":"General image metrics","title":"General image metrics","text":"where Sign(x) is the sign of x:","category":"page"},{"location":"general/","page":"General image metrics","title":"General image metrics","text":"Sign(x) = begincases\n-1  textif x  0\n+1  textif x  0\nphantom+0  textif x = 0\nendcases","category":"page"},{"location":"general/","page":"General image metrics","title":"General image metrics","text":"Metric parameters p and gamma can be chosen depending on the context. According to a human panel[Gomes2016], p = 1 with gamma = 1 best reflect the human perception of image quality.","category":"page"},{"location":"general/","page":"General image metrics","title":"General image metrics","text":"[Gomes2016]: N. Gomes, P. J. V. Garcia & É. Thiébaut, Assessing the quality of restored images in optical long-baseline interferometry in Monthly Notices of the Royal Astronomical Society, vol. 465, pp. 3823-3839 (2016).","category":"page"},{"location":"bc2016/#The-2016'-Interferometric-Beauty-Contest","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"","category":"section"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"For the 2016' Interferometric Imaging Beauty Contest[Sanchez2016] held in Edinburgh, the objective of the contest was to reconstruct multi-wavelength images. A metric was thus specifically designed to compare multi-channel images so as to be insensitive to irrelevant differences due to:","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"orientation: image axes may be inverted, notably the E-W axis;\ntranslation: there may be an arbitrary shift between images (possibly a different shift in every spectral channel);\npixel size: the size of the pixels used for the restored image is arbitrary even though it should be sufficiently small to account for the highest measured frequencies;\nbrightness: not all entries are normalized according to the channel-wise flux given in OI_FLUX data-block;\nout-of-field values: after all geometric transformations, the fields of view of the reference and reconstructed images may be different, it is assumed that missing pixel values are equal to zero. This rationale leads to impose that β = 0 and η = 0.","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"In addition, the comparison must take into account that the measurements have limited angular resolution. Thus the reference image Vy_λ in spectral channel λ is the ground truth image Vz_λ convolved with an effective Point Spread Function (PSF) whose Full Width at Half Maximum (FWHM) is omega_mathrmref chosen to match the interferometric resolution:","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"Vy_λ = MR_Vtheta^mathrmref_λcdotVz_λ","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"with MR_Vtheta^mathrmref_λ the linear operator used to resample images for measuring image distances but with parameters:","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"Vtheta^mathrmref_λ = \n  rho_mathrmref = 1\n  Vt_mathrmref = Zero\n  omega_λ = λ(2B_mathrmmax)\n","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"With rho_mathrmref = 1, it is assumed that there is no translation between the ground truth images Vz_λ and the reference images Vy_λ, with rho_mathrmref = 1, the pixel size (3 mas/pixel) is kept the same, and omega_λ = λ(2B_mathrmmax) is the FWHM of the interferometric resolution at wavelength λ and maximal (projected) baseline B_mathrmmax.","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"Since Gamma(η) = Gamma(0) = 0 and Gamma(alphax) = Gamma(alpha)Gamma(x) (whatever x and alpha), the distance between the restored and the reference images in a given spectral channel can be written as:","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"Dist_Gammap(Vx_λVy_λ) = min_tildeα_λVt_λ\n  sumlimits_j in Ω_λ\n  left\n    tildealpha_λtildeVx_λ_j\n    - tildeVy_λ_j\n  right^p","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"where Ω_λ = MR_Vtheta_λcdotVx_λ cup Vy_λ is the union of the fields of view of MR_Vtheta_λcdotVx_λ and Vy_λ, and with tildeα_λ = Gamma(alpha_λ),","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"lefttildeVy_λright_j = leftbeginarrayll\n  Gammabigl(biglVy_λbigr_jbigr)  textif j in Vy_λ\n  Gamma(η) = 0  textelse\nendarrayright","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"the brightness corrected extrapolated reference image, and:","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"lefttildeVx_λright_j = leftbeginarrayll\n  Gammabigl(biglMR_Vtheta_λcdotVx_λbigr_jbigr)\n   textif j in MR_Vtheta_λcdotVx_λ\n  Gamma(η) = 0  textelse\nendarrayright","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"where","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"Vtheta_λ = rho_λVt_λomega_λ","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"are the settings for resampling the restored image in spectral channel λ. The magnification rho_λ is computed as the ratio of the known pixel sizes of Vx_λ and Vy_λ and, usually, does not depend on λ.","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"For the 2016' Interferometric Imaging Beauty Contest[Sanchez2016], γ = 07 and p = 2 were the metric parameters chosen for the brightness correction function. When p = 2, minimizing the distance with respect to tildeα_λ has the following closed-form solution:","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"tildeα_λ = Gamma(α_λ) = frac\n  sum_j in Ω_λ tildeVx_λ_jtildeVy_λ_j\n\n  sum_j in Ω_λ\n  left(tildeVx_λ_jright)^2\n","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"and the distance (for p = 2) simplifies to:","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"Dist_Gamma2(Vx_λVy_λ) =\n  sum_j in tildeVy_λ left(tildeVy_λ_jright)^2\n  - max_Vt_λ frac\n    left(\n        sum_j in Ω_λ tildeVx_λ_jtildeVy_λ_j\n    right)^2\n  \n    sum_j in Ω_λ left(tildeVx_λ_jright)^2\n  ","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"and the score is:","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"beginalign\nScore_Gamma2(Vx_λ)\n  = 1 - frac\n    Dist_Gamma2(Vx_λVy_λ)\n  \n    sum_j in tildeVy_λ left(tildeVy_λ_jright)^2\n  \n  = max_Vt_λ frac\n    left(\n        sum_j in Ω_λ tildeVx_λ_jtildeVy_λ_j\n    right)^2\n  \n    left(sum_j in Ω_λ left(tildeVx_λ_jright)^2right)\n    left(sum_j in Ω_λ left(tildeVy_λ_jright)^2right)\n  notag\n  = frac\n    maxlimits_Vt_λ left(\n        sum_j in Ω_λ tildeVx_λ_jtildeVy_λ_j\n    right)^2\n  \n    left(sum_j in MR_Vtheta_λcdotVx_λ left(tildeVx_λ_jright)^2right)\n    left(sum_j in Vy_λ left(tildeVy_λ_jright)^2right)\n  notag\nendalign","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"The score for a multi-spectral image Vx is the sum of the scores in all spectral channels:","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"Score_Gammap(Vx) = sum_λ Score_Gammap(Vx_λ)","category":"page"},{"location":"bc2016/","page":"The 2016' Interferometric Beauty Contest","title":"The 2016' Interferometric Beauty Contest","text":"[Sanchez2016]: J. Sanchez-Bermudez, É. Thiébaut, K.-H. Hofmann, M. Heininger, D. Schertl, G. Weigelt, F. Millour, A. Schutz, A. Ferrari, M. Vannier, D. Mary, J. Young & F. Malbet, F., The 2016 interferometric imaging beauty contest in Optical and Infrared Interferometry and Imaging V, SPIE International Conference, 9907, 99071D (2016) doi.","category":"page"},{"location":"#Image-metrics","page":"Image metrics","title":"Image metrics","text":"","category":"section"},{"location":"","page":"Image metrics","title":"Image metrics","text":"The ImageMetrics package provides methods to quantify discrepancy between images. These methods are focused at image reconstruction in optical interferometry.","category":"page"}]
}
